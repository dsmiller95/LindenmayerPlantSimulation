on: [pull_request]
name: benchmark pull requests
jobs:
  runBenchmark:
    name: run benchmark
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: copy cargo.ci.toml on top of cargo.toml
        run: cp Extern/Rust/system_runtime/Cargo.ci.toml Extern/Rust/system_runtime/Cargo.toml
      - name: copy build.ci.rs on top of build.rs
        run: cp Extern/Rust/system_runtime/build.ci.rs Extern/Rust/system_runtime/build.rs
      - uses: boa-dev/criterion-compare-action@v3
        with:
          cwd: "Extern/Rust/system_runtime"
          # Needed. The name of the branch to compare with. This default uses the branch which is being pulled against
          branchName: ${{ github.base_ref }}